import './polyfills.server.mjs';
import{a as K}from"./chunk-3QLWL6XP.mjs";import{f as q,g as P}from"./chunk-7ZESCHPA.mjs";import{a as J}from"./chunk-KFJRXRTM.mjs";import{p as G}from"./chunk-SI2T4P5N.mjs";import{a as H}from"./chunk-4NP52KRI.mjs";import{b as a,d as R,e as $}from"./chunk-V3SRXGYT.mjs";import{b as U,j as O,k as F}from"./chunk-F5RLKEXU.mjs";import{k as V,l as A,m as L}from"./chunk-PQS7RTCO.mjs";import{d as j,s as m}from"./chunk-G46ZWZ73.mjs";import{$ as y,Gb as g,Hb as f,Nb as k,Oa as l,Ob as B,Pa as o,Q as h,Ua as N,Z as D,_ as v,aa as M,db as u,ga as z,ha as C,hb as d,ia as _,lb as x,mb as T,oa as w,qb as r,rb as s,sb as p,wb as S,xb as E,yb as c}from"./chunk-4UJYGIJ6.mjs";var W=(()=>{class i{document;el;renderer;disabled;badgeSize;set size(t){this._size=t,console.warn("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;severity;value;badgeStyle;badgeStyleClass;id;badgeEl;get activeElement(){return this.el.nativeElement.nodeName.indexOf("-")!=-1?this.el.nativeElement.firstChild:this.el.nativeElement}get canUpdateBadge(){return this.id&&!this.disabled}constructor(t,e,n){this.document=t,this.el=e,this.renderer=n}ngOnChanges({value:t,size:e,severity:n,disabled:I,badgeStyle:Z,badgeStyleClass:ee}){I&&this.toggleDisableState(),this.canUpdateBadge&&(n&&this.setSeverity(n.previousValue),e&&this.setSizeClasses(),t&&this.setValue(),(Z||ee)&&this.applyStyles())}ngAfterViewInit(){this.id=U()+"_badge",this.renderBadgeContent()}setValue(t){let e=t??this.document.getElementById(this.id);if(!e)return;this.value!=null?(a.hasClass(e,"p-badge-dot")&&a.removeClass(e,"p-badge-dot"),this.value&&String(this.value).length===1?a.addClass(e,"p-badge-no-gutter"):a.removeClass(e,"p-badge-no-gutter")):(a.hasClass(e,"p-badge-dot")||a.addClass(e,"p-badge-dot"),a.removeClass(e,"p-badge-no-gutter")),e.innerHTML="";let n=this.value!=null?String(this.value):"";this.renderer.appendChild(e,this.document.createTextNode(n))}setSizeClasses(t){let e=t??this.document.getElementById(this.id);e&&(this.badgeSize?(this.badgeSize==="large"&&(a.addClass(e,"p-badge-lg"),a.removeClass(e,"p-badge-xl")),this.badgeSize==="xlarge"&&(a.addClass(e,"p-badge-xl"),a.removeClass(e,"p-badge-lg"))):this.size&&!this.badgeSize?(this.size==="large"&&(a.addClass(e,"p-badge-lg"),a.removeClass(e,"p-badge-xl")),this.size==="xlarge"&&(a.addClass(e,"p-badge-xl"),a.removeClass(e,"p-badge-lg"))):(a.removeClass(e,"p-badge-lg"),a.removeClass(e,"p-badge-xl")))}renderBadgeContent(){if(this.disabled)return null;let t=this.activeElement,e=this.document.createElement("span");e.id=this.id,e.className="p-badge p-component",this.setSeverity(null,e),this.setSizeClasses(e),this.setValue(e),a.addClass(t,"p-overlay-badge"),this.renderer.appendChild(t,e),this.badgeEl=e,this.applyStyles()}applyStyles(){if(this.badgeEl&&this.badgeStyle&&typeof this.badgeStyle=="object")for(let[t,e]of Object.entries(this.badgeStyle))this.renderer.setStyle(this.badgeEl,t,e);this.badgeEl&&this.badgeStyleClass&&this.badgeEl.classList.add(...this.badgeStyleClass.split(" "))}setSeverity(t,e){let n=e??this.document.getElementById(this.id);n&&(this.severity&&a.addClass(n,`p-badge-${this.severity}`),t&&a.removeClass(n,`p-badge-${t}`))}toggleDisableState(){if(this.id)if(this.disabled){let t=this.activeElement?.querySelector(`#${this.id}`);t&&this.renderer.removeChild(this.activeElement,t)}else this.renderBadgeContent()}static \u0275fac=function(e){return new(e||i)(o(j),o(w),o(N))};static \u0275dir=M({type:i,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{disabled:[D.None,"badgeDisabled","disabled"],badgeSize:"badgeSize",size:"size",severity:"severity",value:"value",badgeStyle:"badgeStyle",badgeStyleClass:"badgeStyleClass"},features:[z]})}return i})();var X=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=y({type:i});static \u0275inj=h({imports:[m,F]})}return i})();var Y=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=y({type:i});static \u0275inj=h({imports:[m]})}return i})();var ie=()=>["/user/cart","0"];function ae(i,b){i&1&&(r(0,"figure",5),p(1,"img",6),s())}function ne(i,b){if(i&1&&(r(0,"a",7),p(1,"span"),r(2,"span",8),g(3),s()()),i&2){let t=b.$implicit;d("routerLink",t==null?null:t.path),l(),x(t.icon),l(2),f(t.label)}}function re(i,b){if(i&1){let t=S();r(0,"a",14),E("click",function(){C(t);let n=c(2);return _(n.logout())}),r(1,"span"),g(2,"logout"),s(),p(3,"i",15),s()}}function se(i,b){if(i&1){let t=S();r(0,"div",9)(1,"a",10),p(2,"i",11),s(),r(3,"a",12),E("click",function(){C(t);let n=c();return _(n.logOut=!n.logOut)}),r(4,"span"),g(5),s(),u(6,re,4,0,"a",13),s()()}if(i&2){let t=c();l(),d("routerLink",B(4,ie)),l(),d("value",t.cartCount),l(3),f(t.userName),l(),T(6,t.logOut?6:-1)}}var Ve=(()=>{class i{constructor(t,e,n,I){this._userData=t,this._cartService=e,this._auth=n,this._router=I,this.logOut=!1,this.userName="",this.cartCount=0}ngOnInit(){this.getUserName(),this.getUserCartCount(),this.items=[{label:"Home",icon:"pi pi-home",path:"home"},{label:"Products",icon:"pi pi-sparkles",path:"products"},{label:"Categories",icon:"pi pi-th-large",path:"categories"}],this._cartService.countOfCart.subscribe(t=>{this.cartCount=t})}getUserName(){this._userData.userName.subscribe(t=>this.userName=t)}getUserCartCount(){let t=localStorage.getItem("token")??"";this._cartService.countOfCart.subscribe(e=>this.cartCount=e)}logout(){this._auth.logout().subscribe(t=>{localStorage.removeItem("token"),localStorage.removeItem("username"),this._router.navigate(["login"])})}static{this.\u0275fac=function(e){return new(e||i)(o(J),o(K),o(H),o(V))}}static{this.\u0275cmp=v({type:i,selectors:[["app-user-nav"]],standalone:!0,features:[k],decls:5,vars:1,consts:[[1,"card"],[3,"model"],["pTemplate","start"],["pTemplate","item"],["pTemplate","end"],[1,"my-0","mx-2"],["src","./assets/logo.svg","alt","logo",1,"w-2rem"],["pRipple","","routerLinkActive","text-orange-500",1,"p-menuitem-link","p-link","inline-flex","justify-content-center","align-items-center","hover:surface-100","transition-all","transition-duration-200","p-2","mx-1","text-orange-200","font-bold",3,"routerLink"],[1,"ml-2"],[1,"card","flex","justify-content-center","align-items-center","gap-4"],[3,"routerLink"],["pBadge","",1,"pi","pi-shopping-cart","text-3xl","cursor-pointer","text-color-secondary",3,"value"],[1,"user-name","p-2","text-white","bg-orange-500","font-bold","capitalize","relative","cursor-pointer",3,"click"],[1,"logout","text-white","font-bold","absolute","flex","align-items-center","gap-3","cursor-pointer"],[1,"logout","text-white","font-bold","absolute","flex","align-items-center","gap-3","cursor-pointer",3,"click"],[1,"pi","pi-sign-out"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"p-menubar",1),u(2,ae,2,0,"ng-template",2)(3,ne,4,4,"ng-template",3)(4,se,7,5,"ng-template",4),s()()),e&2&&(l(),d("model",n.items))},dependencies:[P,q,A,L,O,X,W,Y,G,$,R,m],styles:[`.p-badge{background-color:#f97316}.user-name{border-radius:10px}.user-name:before{position:absolute;content:"";bottom:0;left:50%;transform:translate(-50%,100%);border-style:solid;border-width:10px;border-color:#f97316 transparent transparent transparent}.logout{bottom:0;left:50%;transform:translate(-50%,calc(100% + 10px));padding:5px 15px;border-radius:10px;background-color:#fba86f}.logout:hover{background-color:#f97316}
`],encapsulation:2})}}return i})();export{Ve as a};
